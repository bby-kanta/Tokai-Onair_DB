<h1>メンバー・登場人物一覧</h1>

<%= @person.name %>

<%= @person.description %>

<%= @person.id %>

  <%= link_to '編集',edit_person_path(@person) %>
  <%= link_to '削除',tag_path(@person),
    method: :delete,
    data: {confirm: '本当に削除しますか？'}
  %>

<%# personが持っているハッシュタグリストです %>
<div class="peson_tag">
  <h2> <%= @person.name %> に関係するハッシュタグ </h2>

  <% @tags.each do |tag| %>
    <%= link_to tag_path(tag.id) do %> <%# なぜかtagのidを引数で渡すとエラーがでる。→.allをつけたら出なくなった %>
      <%= tag.name %>
      <br>
    <% end %>
  <% end %>
</div>

<%# pesonが持っている罰ゲーム一覧です %>
<div class="peson_penalties">
  <h2> <%= @person.name %> に関係する罰ゲーム </h2>

  <% @penalties.each do |penalty| %>
    <%= link_to penalty_path(penalty.id) do %> 
      <%= penalty.name %>
      <br>
    <% end %>
  <% end %>
</div>



<h2>ハッシュタグ入力フォーム</h2>
<div class="tag_form">
  <ul>
  <%= form_for ([@person,@tag]) do |a| %>

    <li>
      <%= a.label :name ,'ハッシュタグ' %>
      <%= a.text_field :name,placeholder:'ハッシュタグ名を入力してください' %>
    </li>

    <li>
      <%= a.label :description ,'タグの概要' %>
      <%= a.text_area :description,placeholder:'概要を入力してください' %>
    </li>

    <li>
      <%= a.submit %>
    </li>

  <% end %>
  </ul>
</div>

<h2>罰ゲーム入力フォーム</h2>
<div class="penalty_form">
  <ul>
  <%= form_for ([@person,@penalty]) do |a| %>

    <li>
      <%= a.label :name ,'罰ゲーム名' %>
      <%= a.text_field :name,placeholder:'罰ゲーム名を入力してください' %>
    </li>

    <li>
      <%= a.label :description ,'罰ゲームの概要' %>
      <%= a.text_area :description,placeholder:'概要を入力してください' %>
    </li>

    <li>
      <%= a.label :since ,'いつから始まったか' %>
    <%= a.date_select :since,{start_year: 2014,end_year: 2020,use_month_numbers: true} %>
    </li>

    <li>
      <%= a.submit %>
    </li>

  <% end %>
  </ul>
</div>